## flow
> powered by [mermaid](https://mermaidjs.github.io/#/)

図にしたものは[こちら](https://tinyurl.com/sz7uvx4)
```mermaid
graph TD
A[コントロールサーバーの起動 port 34255]
B[データサーバに送信するためのportをバインド port 34250]
C[コントローラー群を作成]
D[参照を共有するためコントローラー群を複製]
E[受信開始]
F[受信したらパケットをデシリアライズ]
G[新規クライアント?]
H[新規コントローラーの追加]
I[コマンド判定]
J[コントローラーにボタン情報を設定]
K[コントローラーの数だけloop]
L[コントローラーの中のアイテム分だけloop]
M[データサーバーに送るべき?]
N[シリアライズ]
O[データサーバーに送信 port 34254]
P[ログイン情報を送信した?]
Q[ログイン状態初期化]
R[5ms秒待機]

A -->B
B --> C
C --> D
D --> |サブスレッド| K
D --> |メインスレッド| E
E --> F
F --> G
G --> |新規| H
G --> |既存| I
H --> I
I --> J
J --> E

K --> L
L --> |アイテムが存在| M
L --> |loop終了| P
M --> |送るべき| N
M --> |送信しない| L
N --> O
O --> L
P --> |した| Q
P --> |してない| R
Q --> R
R --> K
```
